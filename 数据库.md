# 数据库

**索引是什么，有什么作用，优缺点是什么？**

索引是对数据库表中**一或多个列的值**进行**排序**的结构，是帮助MySQL高效获取数据的数据结构

你也可以这样理解：索引就是加快检索表中数据的方法。数据库的索引类似于书籍的索引。在书籍中，索引允许用户不必翻阅完整个书就能迅速地找到所需要的信息。在数据库中，索引也允许数据库程序迅速地找到表中的数据，而不必扫描整个数据库。

MySQL数据库几个基本的索引类型：普通索引、唯一索引、主键索引、全文索引

- 索引加快数据库的**检索速度**
- 索引降低**了插入、删除、修改**等维护任务的速度
- 唯一索引可以确保每一行数据的**唯一性**
- 通过使用索引，可以在查询的过程中使用优化隐藏器，提高系统的性能
- 索引需要占**物理和数据空间** 



**什么是事务？**

事务（Transaction）是**并发控制**的基本单位。所谓的事务，它是一个**操作序列**，这些操作要么都执行，要么都不执行，它是一个**不可分割**的工作单位。事务是数据库维护数据一致性的单位，在每个事务结束时，都能保持**数据一致性**。

- Atomic（原子性）：事务中包含的操作被看做一个逻辑单元，这个逻辑单元中的操作要么全部成功，要么全部失败。

- Consistency（一致性）：只有合法的数据可以被写入数据库，否则事务应该将其回滚到最初状态。

- Isolation（隔离性）：事务允许多个用户对同一个数据进行并发访问，而不破坏数据的正确性和完整性。同时，并行事务的修改必须与其他并行事务的修改相互独立。

- Durability（持久性）：事务结束后，事务处理的结果必须能够得到固化。



**乐观锁和悲观锁是什么？**

- 悲观锁：假定会发生并发冲突，屏蔽一切可能违反数据完整性的操作（利用数据库本身提供的锁机制来实现，如行锁、表锁、排他锁、共享锁）
- 乐观锁：假设不会发生并发冲突，只在提交操作时检查是否违反数据完整性（一般的实现乐观锁的方式就是记录数据版本）



**三大范式？**

- 第一范式：数据库表中的字段都是单一属性的，不可再分
- 第二范式：满足非主属性完全依赖于主属性，确保数据库表中的每一列都和主键相关，而不能只与主键的某一部分相关
- 第三范式：每一列数据都和主键直接相关，而不能间接相关